!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequire5612;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequire5612=o),o.register("ds8z5",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}})),o.register("1UHsN",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}})),o.register("ffZzF",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return t.get?t.get.call(e):t.value}})),o.register("5k7tO",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}})),o.register("jdVyQ",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}})),o.register("gD1JV",(function(e,t){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return n(e,t)}})),o.register("aTHs7",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}})),o.register("fVNic",(function(e,t){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return n(e)}})),o.register("jmhxu",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return!t||"object"!==r.default(t)&&"function"!=typeof t?n.default(e):t};var n=i(o("ds8z5")),r=i(o("l5bVx"));function i(e){return e&&e.__esModule?e:{default:e}}})),o.register("l5bVx",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return e&&e.constructor===Symbol?"symbol":typeof e}}));var i=o("ds8z5"),a={};Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var u={};Object.defineProperty(u,"__esModule",{value:!0}),u.default=function(e,t){var n=s.default(e,t,"get");return c.default(e,n)};var s=l(o("1UHsN")),c=l(o("ffZzF"));function l(e){return e&&e.__esModule?e:{default:e}}var d={};Object.defineProperty(d,"__esModule",{value:!0}),d.default=function(e,t,n){p.default(e,t),t.set(e,n)};var f,p=(f=o("5k7tO"))&&f.__esModule?f:{default:f};var _={};Object.defineProperty(_,"__esModule",{value:!0}),_.default=function(e,t,n){var r=v.default(e,t,"set");return h.default(e,r,n),n};var v=y(o("1UHsN")),h=y(o("jdVyQ"));function y(e){return e&&e.__esModule?e:{default:e}}var w={};function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(w,"__esModule",{value:!0}),w.default=function(e,t,n){t&&g(e.prototype,t);n&&g(e,n);return e};var k={};Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e};var b={};Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m.default(e,t)};var m=function(e){return e&&e.__esModule?e:{default:e}}(o("gD1JV"));var M={};Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(e){var t=O.default();return function(){var n,r=x.default(e);if(t){var o=x.default(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P.default(this,n)}};var O=j(o("aTHs7")),x=j(o("fVNic")),P=j(o("jmhxu"));function j(e){return e&&e.__esModule?e:{default:e}}var S=document.querySelector(".form"),N=document.querySelector(".workouts"),T=document.querySelector(".form__input--type"),E=document.querySelector(".form__input--distance"),F=document.querySelector(".form__input--duration"),W=document.querySelector(".form__input--cadence"),D=document.querySelector(".form__input--elevation"),V=function(){"use strict";function t(n,r,o){e(a)(this,t),e(k)(this,"date",new Date),e(k)(this,"id",(Date.now()+"").slice(-10)),e(k)(this,"clicks",0),this.coords=n,this.distance=r,this.duration=o}return e(w)(t,[{key:"_setDescription",value:function(){this.description="".concat(this.type[0].toUpperCase()).concat(this.type.slice(1)," on ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][this.date.getMonth()]," ").concat(this.date.getDate())}},{key:"clicks",value:function(){this.clicks+=1}}]),t}(),q=function(t){"use strict";e(b)(r,t);var n=e(M)(r);function r(t,o,u,s){var c;return e(a)(this,r),c=n.call(this,t,o,u),e(k)(e(i)(c),"type","running"),c.cadence=s,c.calcPace(),c._setDescription(),c}return e(w)(r,[{key:"calcPace",value:function(){return this.pace=this.duration/this.distance,this.pace}}]),r}(V),C=function(t){"use strict";e(b)(r,t);var n=e(M)(r);function r(t,o,u,s){var c;return e(a)(this,r),c=n.call(this,t,o,u),e(k)(e(i)(c),"type","cycling"),c.elevationGain=s,c.calcSpeed(),c._setDescription(),c}return e(w)(r,[{key:"calcSpeed",value:function(){return this.spped=this.distance/(this.duration/60),this.spped}}]),r}(V),R=new WeakMap,z=new WeakMap,H=new WeakMap,J=new WeakMap,U=function(){"use strict";function t(){e(a)(this,t),e(d)(this,R,{writable:!0,value:void 0}),e(d)(this,z,{writable:!0,value:13}),e(d)(this,H,{writable:!0,value:void 0}),e(d)(this,J,{writable:!0,value:[]}),this._getPosition(),this._getLocalStorage(),S.addEventListener("submit",this._newWorkout.bind(this)),T.addEventListener("change",this._toggleElevationField.bind(this)),N.addEventListener("click",this._moveToPopup.bind(this))}return e(w)(t,[{key:"_getPosition",value:function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(this._loadMap.bind(this))}},{key:"_loadMap",value:function(t){var n=this,r=[t.coords.latitude,t.coords.longitude];e(_)(this,R,L.map("map").setView(r,e(u)(this,z))),L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(e(u)(this,R)),e(u)(this,R).on("click",this._showForm.bind(this)),e(u)(this,J).forEach((function(e){n._renderWorkoutMarker(e),n._renderWorkout(e)}))}},{key:"_showForm",value:function(t){e(_)(this,H,t),S.classList.remove("hidden"),E.focus()}},{key:"_hideForm",value:function(){E.value=F.value=W.value=D.value="",S.style.display="none",S.classList.add("hidden"),setTimeout((function(){return S.style.display="grid"}),1e3)}},{key:"_toggleElevationField",value:function(e){D.closest(".form__row").classList.toggle("form__row--hidden"),W.closest(".form__row").classList.toggle("form__row--hidden")}},{key:"_newWorkout",value:function(t){var n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return Number.isFinite(e)}))},r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return e>0}))};t.preventDefault();var o,i=T.value,a=Number(E.value),s=Number(F.value),c=e(u)(this,H).latlng,l=c.lat,d=c.lng;if("running"===i){var f=Number(W.value);if(!n(a,s,f)||!r(a,s,f))return alert("Input have to be positive number!");o=new q([l,d],a,s,f)}if("cycling"===i){var p=Number(D.value);if(!n(a,s,p)||!r(a,s))return alert("Input have to be positive number!");o=new C([l,d],a,s,p)}e(u)(this,J).push(o),this._renderWorkoutMarker(o),this._renderWorkout(o),this._hideForm(),this._setLocalStorage()}},{key:"_renderWorkoutMarker",value:function(t){L.marker(t.coords).addTo(e(u)(this,R)).bindPopup(L.popup({maxWidth:250,maxHeight:100,autoClose:!1,closeOnClick:!1,className:"".concat(t.type,"-popup")})).setPopupContent("".concat("running"===t.type?"üèÉ‚Äç‚ôÇÔ∏è":"üö¥‚Äç‚ôÄÔ∏è"," ").concat(t.description)).openPopup()}},{key:"_renderWorkout",value:function(e){var t='\n    <li class="workout workout--'.concat(e.type,'" data-id="').concat(e.id,'">\n          <h2 class="workout__title">').concat(e.description,'</h2>\n          <div class="workout__details">\n            <span class="workout__icon">').concat("running"===e.type?"üèÉ‚Äç‚ôÇÔ∏è":"üö¥‚Äç‚ôÄÔ∏è",'</span>\n            <span class="workout__value">').concat(e.distance,'</span>\n            <span class="workout__unit">km</span>\n          </div>\n          <div class="workout__details">\n            <span class="workout__icon">‚è±</span>\n            <span class="workout__value">').concat(e.duration,'</span>\n            <span class="workout__unit">min</span>\n          </div>\n    ');"running"===e.type&&(t+='\n      <div class="workout__details">\n            <span class="workout__icon">‚ö°Ô∏è</span>\n            <span class="workout__value">'.concat(e.pace.toFixed(1),'</span>\n            <span class="workout__unit">min/km</span>\n          </div>\n          <div class="workout__details">\n            <span class="workout__icon">ü¶∂üèº</span>\n            <span class="workout__value">').concat(e.cadence,'</span>\n            <span class="workout__unit">spm</span>\n          </div>\n        </li>\n      ')),"cycling"===e.type&&(t+='<div class="workout__details">\n            <span class="workout__icon">‚ö°Ô∏è</span>\n            <span class="workout__value">'.concat(e.spped.toFixed(1),'</span>\n            <span class="workout__unit">km/h</span>\n          </div>\n          <div class="workout__details">\n            <span class="workout__icon">‚õ∞</span>\n            <span class="workout__value">').concat(e.elevationGain,'</span>\n            <span class="workout__unit">m</span>\n          </div>\n        </li>')),S.insertAdjacentHTML("afterend",t)}},{key:"_moveToPopup",value:function(t){var n=t.target.closest(".workout");if(n){var r=e(u)(this,J).find((function(e){return e.id===n.dataset.id}));e(u)(this,R).setView(r.coords,e(u)(this,z),{animate:!0,pan:{duration:1}})}}},{key:"_setLocalStorage",value:function(){localStorage.setItem("workouts",JSON.stringify(e(u)(this,J)))}},{key:"_getLocalStorage",value:function(){var t=JSON.parse(localStorage.getItem("workouts"));t&&e(_)(this,J,t)}},{key:"reset",value:function(){localStorage.remove("workouts"),lacation.reload()}}]),t}();new U}();
//# sourceMappingURL=index.c4d42a6e.js.map
